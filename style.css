/* ===== Theme Tokens (Broadcast UI) ===== */
:root{
  --ui-bg: #0d1117;
  --panel: #111722cc;
  --stroke: #2b3a4a;
  --txt: #e6eef7;
  --muted: #9fb0c2;
  --accent: #1ec8ff;
  --accent-2: #ff4fd8;
  --success: #18d18f;
  --warn: #ffc247;
  --danger: #ff6b6b;
  /* aliases for consistency */
  --bg: var(--ui-bg);
  --text: var(--txt);
  --line: var(--stroke);
}

*,
*::before,
*::after{
  box-sizing:border-box;
}

body{
  margin:0;
  font-family:"Noto Sans JP", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  line-height:1.6;
}
.op-theme{ background:var(--bg); color:var(--text); }
body.op-theme{
  --page-gap:24px;
  --page-pad-inline:clamp(24px, 4vw, 48px);
  min-height:100dvh;
  height:100dvh;
  padding:24px var(--page-pad-inline) 120px;
  background:
    radial-gradient(circle at top left, rgba(46,141,255,.18), transparent 42%),
    radial-gradient(circle at 85% 10%, rgba(255,79,216,.12), transparent 46%),
    linear-gradient(180deg, rgba(9,16,28,0.92), rgba(8,12,22,0.96));
  display:flex;
  flex-direction:column;
  gap:var(--page-gap);
  overflow:hidden;
}

.visually-hidden{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }

/* ===== Header ===== */
.op-header{
  display:flex;
  justify-content:space-between;
  align-items:stretch;
  gap:32px;
  padding:18px 24px;
  border-radius:22px;
  border:1px solid rgba(38,55,74,.7);
  background:linear-gradient(180deg, rgba(24,33,56,.92), rgba(15,21,36,.92));
  box-shadow:0 18px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
  position:sticky;
  top:24px;
  z-index:70;
  backdrop-filter: blur(14px);
}
.header-cluster{
  display:flex;
  gap:28px;
  align-items:center;
  flex-wrap:wrap;
}
.brand-block{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:200px;
}
.brand-mark{
  font-size:1.25rem;
  font-weight:700;
  letter-spacing:.12em;
  text-transform:uppercase;
}
.brand-tagline{
  font-size:.75rem;
  letter-spacing:.2em;
  color:var(--muted);
  text-transform:uppercase;
}
.header-aside{
  margin-left:auto;
  display:flex;
  align-items:center;
  gap:16px;
}
.header-aside .btn-icon{ flex-shrink:0; }
.user-info{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:8px;
  font-size:.85rem;
  color:var(--muted);
  text-align:right;
}
.user-info .btn{ align-self:flex-end; }
.user-label{ font-weight:500; letter-spacing:.01em; }

/* グリッド背景（オペ室っぽく） */
#questions-content{
  background:
    radial-gradient(transparent 1px, rgba(255,255,255,0.04) 1px) 0 0 / 24px 24px,
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}

/* ===== Auth ===== */
.auth-card{
  max-width:480px;
  margin:64px auto;
  padding:32px clamp(24px, 5vw, 40px);
  text-align:center;
  border-radius:24px;
  border:1px solid rgba(46,64,92,.65);
  background:linear-gradient(180deg, rgba(21,28,45,.92), rgba(12,17,29,.92));
  box-shadow:0 24px 50px rgba(0,0,0,.38), inset 0 1px 0 rgba(255,255,255,.05);
}
.auth-card h2{ margin:0 0 12px; font-size:1.5rem; letter-spacing:.03em; }
.auth-lead{
  margin:0 0 24px;
  color:var(--muted);
  font-size:.95rem;
}

/* ===== Layout ===== */
.layout-grid{
  display:grid;
  grid-template-columns:minmax(0,1fr);
  gap:24px;
  align-items:stretch;
  flex:1 1 auto;
  min-height:0;
}
body.dictionary-open:not(.logs-open) .layout-grid,
body.logs-open:not(.dictionary-open) .layout-grid{
  grid-template-columns:minmax(0,2.35fr) minmax(0,1.2fr);
}
body.dictionary-open.logs-open .layout-grid{
  grid-template-columns:minmax(0,2fr) minmax(0,1fr) minmax(0,1fr);
}
body.dictionary-collapsed #dictionary-panel,
body.dictionary-collapsed:not(.dictionary-open) #dictionary-panel{ display:none !important; }
body.logs-collapsed #logs-panel,
body.logs-collapsed:not(.logs-open) #logs-panel{ display:none !important; }
body.dictionary-open #dictionary-panel,
body.logs-open #logs-panel{ display:flex; }

#dictionary-panel[hidden],
#logs-panel[hidden]{ display:none !important; }

.module{
  display:flex;
  flex-direction:column;
  gap:20px;
  padding:26px 28px;
  border-radius:24px;
  border:1px solid rgba(46,64,92,.6);
  background:linear-gradient(180deg, rgba(18,24,38,.92), rgba(10,14,24,.92));
  box-shadow:0 18px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
  min-height:0;
  overflow:hidden;
}
.module--primary{ min-height:0; }
.module--secondary{ gap:16px; }
.module-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:24px;
  flex-wrap:wrap;
}
.module-header h1,
.module-header h2{ margin:0; }
.module-description{
  margin:6px 0 0;
  font-size:.9rem;
  color:var(--muted);
  max-width:36ch;
}
.module-actions{
  display:flex;
  align-items:center;
  gap:12px;
}
.module-body{
  flex:1 1 auto;
  min-height:0;
  overflow:auto;
  scrollbar-gutter:stable both-edges;
  scrollbar-width:thin;
  scrollbar-color:rgba(108,132,168,.6) rgba(18,24,38,.7);
}
.module-body::-webkit-scrollbar,
.table-scroller::-webkit-scrollbar,
.log-stream::-webkit-scrollbar{
  width:10px;
}
.module-body::-webkit-scrollbar-track,
.table-scroller::-webkit-scrollbar-track,
.log-stream::-webkit-scrollbar-track{
  background:rgba(10,16,26,.7);
  border-radius:999px;
}
.module-body::-webkit-scrollbar-thumb,
.table-scroller::-webkit-scrollbar-thumb,
.log-stream::-webkit-scrollbar-thumb{
  background:linear-gradient(180deg, rgba(46,141,255,.5), rgba(30,200,255,.35));
  border-radius:999px;
  border:2px solid rgba(9,14,24,.9);
}
.module-body::-webkit-scrollbar-thumb:hover,
.table-scroller::-webkit-scrollbar-thumb:hover,
.log-stream::-webkit-scrollbar-thumb:hover{
  background:linear-gradient(180deg, rgba(46,141,255,.7), rgba(30,200,255,.5));
}
.dictionary-body{ display:flex; flex-direction:column; gap:16px; }
.dictionary-body .table-scroller{ flex:1; }
.dictionary-body table{ min-width:100%; }
.logs-body{ display:flex; flex-direction:column; gap:16px; overflow:hidden; }
.logs-body #logs-stream-view{ flex:1 1 auto; min-height:0; }
.logs-body .log-stream{ flex:1 1 auto; }

@media (max-width: 1180px){
  .layout-grid{ grid-template-columns:1fr; }
  .op-header{ position:static; }
  body.op-theme{ padding-bottom:140px; }
}

/* ===== Controls ===== */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:10px 18px;
  border-radius:14px;
  border:1px solid rgba(60,82,110,.7);
  background:linear-gradient(180deg, rgba(28,38,62,.85), rgba(18,26,44,.9));
  color:var(--text);
  font:600 0.95rem/1 "Noto Sans JP", "Segoe UI", system-ui, sans-serif;
  letter-spacing:.02em;
  cursor:pointer;
  transition:transform .12s ease, filter .18s ease, box-shadow .18s ease;
  text-decoration:none;
}
.btn:hover{ filter:brightness(1.08); box-shadow:0 10px 22px rgba(0,0,0,.25); }
.btn:active{ transform:translateY(1px) scale(.99); }
.btn:disabled{
  opacity:.45;
  cursor:not-allowed;
  box-shadow:none;
}
.btn-primary{
  background:linear-gradient(180deg, #2563eb, #1b46c1);
  border-color:#1f3b94;
  box-shadow:0 12px 26px rgba(37,99,235,.35);
}
.btn-danger{
  background:linear-gradient(180deg, #ef4444, #b91c1c);
  border-color:#7f1d1d;
}
.btn-ghost{
  background:rgba(20,28,46,.4);
  border-color:rgba(80,104,142,.6);
}

.input{
  width:100%;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(70,94,128,.6);
  background:rgba(12,18,32,.85);
  color:var(--text);
  font-size:.95rem;
  transition:border-color .18s ease, box-shadow .18s ease;
}
.input:focus-visible,
.btn:focus-visible,
input[type="checkbox"]:focus-visible{
  outline:2px solid rgba(30,200,255,.6);
  outline-offset:2px;
}
.input:focus-visible{
  border-color:rgba(30,200,255,.75);
  box-shadow:0 0 0 3px rgba(30,200,255,.2);
}

input[type="checkbox"]{
  width:18px;
  height:18px;
  accent-color:var(--accent);
}

.logs-toolbar{
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
}
.logs-toolbar .input{ flex:1 1 220px; min-width:0; max-width:320px; }

.dictionary-form{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.dictionary-form .input{ flex:1 1 160px; }

.table-scroller{
  overflow:auto;
  border-radius:18px;
  border:1px solid rgba(46,64,92,.6);
  background:rgba(9,13,24,.6);
}
.table-actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.table-actions .btn{ flex:1 1 120px; }

.action-panel-right{ margin-left:auto; display:flex; align-items:center; gap:12px; }

.sub-tabs{
  display:flex;
  gap:12px;
  margin:4px 0 16px;
  flex-wrap:wrap;
}
.sub-tab-button{
  padding:8px 16px;
  border-radius:999px;
  border:1px solid rgba(70,94,128,.5);
  background:rgba(12,20,34,.6);
  color:var(--muted);
  font-weight:600;
  cursor:pointer;
  transition:background .18s ease, color .18s ease, border-color .18s ease;
}
.sub-tab-button.active{
  color:var(--text);
  border-color:rgba(30,200,255,.6);
  background:linear-gradient(180deg, rgba(30,200,255,.22), rgba(14,110,190,.18));
}
.module-body#questions-content{ display:flex; flex-direction:column; }
#logs-stream-view{ display:flex; flex-direction:column; flex:1 1 auto; min-height:0; }
#logs-stream-view .log-stream{ flex:1 1 auto; height:100%; min-height:0; }

/* カードツールバー */
.cards-toolbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  padding:0 .25rem 8px;
  color:var(--muted);
}
.chk{
  display:flex;
  align-items:center;
  gap:.5rem;
  font-size:.9rem;
}

/* カードリスト */
.cards-list{
  display:flex;
  flex-direction:column;
  gap:18px;
  padding:8px 0 140px;
}

.q-card{
  position:relative;
  border-radius:18px;
  background: linear-gradient(180deg, #0f1622, #0d121a);
  border:1px solid rgba(44,64,86,.7);
  box-shadow:
    0 10px 30px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.04);
  padding:14px 16px 16px;
  color:var(--txt);
}
.q-card:hover{ border-color:#3b5672; }
.q-card.is-selected{ box-shadow: 0 0 0 3px rgba(41,182,246,1), 0 16px 40px rgba(0,0,0,.5); }
.q-card.locked{ opacity:.55; }
.q-card:focus-visible{
  outline: 2px solid #29b6f6;
  outline-offset: 2px;
}

/* 上段：RN & 時刻/班/状態 */
.q-head{
  display:flex; align-items:center; gap:10px;
}
.q-name--puq{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:6px 14px;
  border-radius:14px;
  background:linear-gradient(180deg, rgba(80,140,255,.24), rgba(40,90,180,.16));
  border:1px solid rgba(80,140,255,.55);
  font-weight:700;
  letter-spacing:.1em;
}
.q-card.is-puq{
  border-color:rgba(92,140,255,.7);
  box-shadow:
    0 10px 30px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.04),
    0 16px 36px rgba(50,120,255,.25);
}
.name-pill{
  --glow:#5dd7ff;
  padding:6px 12px;
  border-radius:14px;
  background: linear-gradient(180deg, rgba(30,200,255,.18), rgba(30,200,255,.08));
  border:1px solid rgba(30,200,255,.45);
  box-shadow: 0 0 22px -6px var(--glow);
  font-weight:600;
}

.q-head .q-group{
  min-width: 2.5em;
  text-align: center;
  border-radius: 10px;
  background: rgba(255, 200, 0, .12);
  border: 1px solid rgba(255, 200, 0, .35);
}

.name-pill.puq{ --glow:#7ab7ff; background:linear-gradient(180deg, rgba(80,140,255,.18), rgba(80,140,255,.08)); border-color:rgba(80,140,255,.45); }
.name-pill.answered{ --glow:#a1aab8; background:linear-gradient(180deg, rgba(160,170,184,.16), rgba(160,170,184,.06)); border-color:rgba(160,170,184,.45); }

.chip{
  margin-left:auto;
  display:flex; align-items:center; gap:8px; color:var(--muted); font-size:.9rem;
}
.chip .group{
  padding:2px 8px; border-radius:10px; background:#1e2836; border:1px solid #2a3b52; color:#d4c29b; font-weight:700;
}
.chip .state{
  padding:2px 8px; border-radius:10px; border:1px solid #2a3b52;
}
.state.unanswered{ color:#93e0ff; background:#112231; }
.state.displaying{ color:#8fffe0; background:#0f2a24; border-color:#1a584c; animation:pulse 1.6s ease-in-out infinite; }
.state.answered{ color:#c0c8d4; background:#1b2330; }
@keyframes pulse{
  0%,100%{ box-shadow:0 0 0 0 rgba(24,209,143,.0); }
  50%{ box-shadow:0 0 0 6px rgba(24,209,143,.14); }
}

/* 下段：質問文 */
.q-body{
  margin-top:10px;
  font-size:1.08rem;
  line-height:1.65;
}

/* 右上：チェックボックス（バッチ操作） */
.q-check{
  position:absolute; inset:10px auto auto 10px;
}
.q-card input.row-checkbox{
  width:18px; height:18px;
  accent-color: var(--accent);
}

/* ===== Top Status Bar ===== */
.status-bar{
  display:flex;
  align-items:flex-start;
  gap:20px;
  padding:14px 18px;
  border-radius:18px;
  background:linear-gradient(180deg, rgba(19,27,46,.92), rgba(13,19,34,.92));
  border:1px solid rgba(37,54,76,.8);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.05), 0 12px 32px rgba(0,0,0,.35);
}

/* login 中の簡易スタイル（任意） */
#login-button.is-busy {
  opacity: 0.7;
  pointer-events: none;
  cursor: progress;
}

/* ===== Loading Overlay ===== */
#loading-overlay[hidden] { display: none !important; }
#loading-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
}
.loading-backdrop {
  position: absolute;
  inset: 0;
  backdrop-filter: blur(2px);
  background: rgba(10, 12, 20, 0.35);
}
.loading-panel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  min-width: 260px;
  max-width: min(92vw, 560px);
  padding: 20px 24px;
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(20,22,34,0.96), rgba(12,14,22,0.96));
  box-shadow: 0 12px 40px rgba(0,0,0,0.35), inset 0 0 1px rgba(255,255,255,0.06);
  color: #E9ECF1;
  text-align: center;
}
.spinner {
  width: 36px; height: 36px;
  margin: 0 auto 14px;
  border: 3px solid rgba(255,255,255,0.25);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-text { font-weight: 600; letter-spacing: .02em; }
.loading-sub  { margin-top: 6px; font-size: 12px; opacity: .75; }

/* ===== Loader steps (段階表示) ===== */
#loader-steps{ margin-top:12px; padding-left:1.25rem; max-width:560px; font-size:.95rem; color:var(--muted); }
#loader-steps li{ margin:4px 0; opacity:.6; transition:opacity .2s, transform .2s; transform:translateX(-2px); }
#loader-steps li.current{ opacity:1; transform:translateX(0); list-style:decimal; }
#loader-steps li.done{ opacity:.9; }

/* ==== Display 状態ランプ ==== */
.render-indicator{ display:flex; align-items:center; gap:.5rem; padding-inline:8px; border-inline:1px solid var(--line); }
.lamp{ inline-size:.9rem; block-size:.9rem; border-radius:9999px; background:#94a3b8;
  box-shadow:0 0 0 1px rgba(0,0,0,.25) inset, 0 0 10px rgba(0,0,0,.25);
  transition: background-color .18s ease, box-shadow .18s ease, transform .18s ease; }
.lamp-label{ font: 12px/1.4 system-ui, -apple-system, "Segoe UI", sans-serif; color:#475569; }
.lamp.is-visible{ background:var(--success); box-shadow:0 0 12px #10b98180; }
.lamp.is-showing,.lamp.is-hiding{ background:var(--warn); box-shadow:0 0 12px #f59e0b80; }
.lamp.is-hidden{ background:#94a3b8; }
.lamp.is-error{ background:var(--danger); box-shadow:0 0 12px #ef444480; }

/* ★ 30秒超過で“古さ”をわずかに示す（事故防止） */
.render-indicator.is-stale{ filter:saturate(.6); opacity:.85; }

/* === 表示内容プレビュー === */
.render-summary{ display:flex; flex-direction:column; gap:.25rem; margin-left:1rem; min-inline-size:20rem; }
.render-line{ display:flex; align-items:baseline; gap:.5rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.render-summary .text-strong{ font-weight:700; letter-spacing:.01em; max-inline-size:36rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.render-summary .text-soft{ color:#c6d1e3; opacity:.9; max-inline-size:48rem; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.render-summary .text-meta{ color:#9fb3c8; font-size:12px; }
.render-summary .label{ color:#9fb3c8; font-size:12px; }

/* 更新フラッシュ */
.render-indicator.is-updated .lamp{ transform: scale(1.15); }
.render-summary.is-updated{ animation: renderFlash .8s ease; }
@keyframes renderFlash{
  0%{ filter: brightness(1.2); }
  100%{ filter: brightness(1); }
}

@media (max-width: 1180px){
  .render-summary{ min-inline-size:auto; }
}

/* ===== Data tables ===== */
table{ width:100%; border-collapse:separate; border-spacing:0; margin-top:12px; color:var(--text); }
#dictionary-table thead th{
  text-align:left;
  font-weight:600;
  padding:12px 14px;
  background:linear-gradient(180deg, rgba(23,34,54,.9), rgba(17,24,40,.9));
  border-bottom:1px solid rgba(46,64,92,.7);
  position:sticky;
  top:0;
  z-index:2;
}
#dictionary-table tbody td{
  padding:12px 14px;
  border-bottom:1px solid rgba(46,64,92,.45);
  font-size:.9rem;
}
#dictionary-table tbody tr:hover{
  background:rgba(30,200,255,.08);
}
#dictionary-table tbody tr.disabled{
  opacity:.6;
}
#dictionary-table tbody tr.disabled td{
  color:var(--muted);
}

/* ===== Action Panel (glass dock) ===== */
#action-panel {
  position:fixed; inset-inline:32px; bottom:24px; z-index:60;
  display:flex; align-items:center; gap:12px; padding:12px 16px; box-sizing:border-box;
  background:linear-gradient(180deg, rgba(24,32,54,.88), rgba(13,19,32,.9));
  border:1px solid rgba(46,64,92,.7); border-radius:20px; backdrop-filter: blur(10px);
  box-shadow:0 16px 40px rgba(0,0,0,.38);
}
#action-panel #selected-info { font-size: 0.9rem; color: var(--muted); }
#action-panel .btn{ padding:8px 14px; }

@media (max-width: 720px){
  #action-panel{
    inset-inline:16px;
    bottom:16px;
    flex-wrap:wrap;
    justify-content:flex-start;
  }
  #action-panel .btn{ flex:1 1 calc(50% - 12px); }
  #action-panel #selected-info{ order:5; width:100%; }
}

/* Button accents */
.btn-warn{ background:linear-gradient(180deg, #f59e0b, #d97706); border-color:#b45309; }

/* アニメーション */
@keyframes flash-success {
    0% { background-color: #77dd77; } 100% { background-color: #d4edda; }
}
.flash { animation: flash-success 1.2s ease-out; }

/* ===== Status Chips ===== */
.chip{
  display:inline-flex; align-items:center; gap:.4em; padding:.25em .6em; border-radius:999px;
  font:600 12px/1 system-ui,-apple-system,"Segoe UI",sans-serif;
  background:var(--chip); color:#cfe1ff; border:1px solid var(--chip-line);
}
.chip--live{ background:rgba(16,185,129,.12); border-color:#164e3a; color:#a7f3d0; }
.chip--answered{ background:rgba(59,130,246,.12); border-color:#1e3a8a; color:#c7d2fe; }
.chip--pending{ background:rgba(245,158,11,.12); border-color:#7c2d12; color:#fcd34d; }

/* ログテーブル */
#logs-table td { font-size: 12px; white-space: pre-wrap; word-break: break-all; }

/* ▼▼▼ トースト通知のカスタムスタイル ▼▼▼ */
.toastify {
    padding: 12px 20px;
    color: #fff;
    display: inline-block;
    box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);
    background: -webkit-linear-gradient(315deg, #73a5ff, #5477f5);
    background: linear-gradient(135deg, #73a5ff, #5477f5);
    position: fixed;
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);
    border-radius: 4px;
    cursor: pointer;
    text-decoration: none;
    max-width: calc(50% - 20px);
    z-index: 2000;
}

.toastify.on {
    opacity: 1;
}

/* 成功メッセージ用のカスタムカラー */
.toastify-success {
    background: linear-gradient(135deg, #77dd77, #4CAF50);
}

/* エラーメッセージ用のカスタムカラー */
.toastify-error {
    background: linear-gradient(135deg, #ff6b6b, #f06595);
}

/* --- log stream --- */
.log-stream{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  background:#0b1020; color:#eaeef8;
  border-radius:8px; padding:12px;
  min-height:260px;
  height:100%;
  overflow:auto;
  border:1px solid #16213a;
}
.log-line{ white-space:pre-wrap; line-height:1.45; padding:2px 0; border-bottom:1px solid rgba(255,255,255,.06); }
.log-line:last-child{ border-bottom:none; }
.log-line .ts{ color:#9fb3c8; margin-right:8px; }
.badge{ display:inline-block; padding:0 6px; border-radius:999px; font-size:12px; margin-right:6px; background:#334155; color:#cde; }
.badge.user{ background:#243a5a; }
.badge.action{ background:#3b4252; }
.badge.action.display{ background:#2563eb; }
.badge.action.clear{ background:#ef4444; }
.badge.action.edit{ background:#10b981; }
.badge.action.answer{ background:#f59e0b; }
.details{ color:#eaeef8; }

/* --- log levels --- */
.badge.level{ background:#334155; color:#cde; }
.badge.level.info{ background:#3b4252; }
.badge.level.success{ background:#155e75; }  /* teal系 */
.badge.level.warn{ background:#7c3aed; }     /* purple系（見やすさ重視） */
.badge.level.error{ background:#991b1b; }    /* red系 */
.badge.level.debug{ background:#475569; }

.log-line.lvl-info{    border-left:3px solid #64748b; }
.log-line.lvl-success{ border-left:3px solid #14b8a6; }
.log-line.lvl-warn{    border-left:3px solid #a78bfa; }
.log-line.lvl-error{   border-left:3px solid #ef4444; background:rgba(239,68,68,.05); }
.log-line.lvl-debug{   border-left:3px solid #94a3b8; opacity:.95; }
.btn-icon{
  padding:10px 12px;
  border-radius:14px;
  min-width:0;
  aspect-ratio:auto;
}
.btn-icon .btn-label{ font-size:.85rem; }
.btn-icon svg{ width:1.1rem; height:1.1rem; fill:currentColor; }
.btn-icon .btn-label{ display:none; }
.btn-icon .icon{ display:inline-flex; align-items:center; justify-content:center; }
@media (min-width: 960px){
  .btn-icon .btn-label{ display:inline; }
}
.btn-icon[aria-expanded="true"],
.btn-icon:focus-visible{
  border-color:rgba(30,200,255,.8);
}
.btn-icon[aria-expanded="true"]{
  background:linear-gradient(180deg, rgba(30,200,255,.3), rgba(20,140,220,.2));
  box-shadow:0 12px 28px rgba(30,200,255,.25);
}
.btn-sm{
  padding:6px 12px;
  font-size:.8rem;
  border-radius:10px;
  gap:6px;
}

.site-footer{
  margin-top:auto;
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:0.85rem;
  color:var(--muted);
  letter-spacing:.04em;
}
.credit-highlight{ color:var(--accent); font-weight:600; }
